<div fxLayout="column" fxFlexFill fxLayoutAlign="center center" 
style="background-image:url('../../../assets/8.jpg');
height: 100%;
background-repeat: no-repeat;
background-position: center;
background-size: cover; ">
    <div fxLayout="column" >   
        
        <div class="app-body">
            <main class="main d-flex align-items-center">
                <div class="container" >
                    <div class="row">
                        <div class="col-md-12 mx-auto">
                            <div class="card p-4" style="border: 2px solid #4949eb;">
                                <div class="card-body">                                        
                                    <form fxLayout="column" fxLayoutAlign="start stretch" [formGroup]="userValue" (ngSubmit)="ChangePassword()">
                                        <h2 style="color: #4949eb !important;"> Reset your password?</h2>
                                        <p>
                                            Enter your new password here...
                                        </p> 
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="icon-user"></i>
                                                </span>
                                            </div>
                                            <input  
                                             type="text" class="form-control"
                                            formControlName="token" [disabled]="true" required matInput [(ngModel)]="user">
                                        </div>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="icon-user"></i>
                                                </span>
                                            </div>
                                            <input 
                                            class="form-control" type="password" required placeholder="Please enter new Password"
                                            formControlName="Password" required matInput [ngClass]="{ 'is-invalid': submitted && f['Password']?.errors }">
                                            <div *ngIf="submitted && f['Password']?.errors" class="invalid-feedback">
                                                <div *ngIf="f['Password']?.errors?.['required']" style="color: red;" >Password is required</div>
                                            </div>
                                        </div>
                                      
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="icon-user"></i>
                                                </span>
                                            </div>
                                            <input 
                                            class="form-control" type="password" required  placeholder="Please Confirm Password"
                                            formControlName="confirmPassword" required matInput [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].errors }">
                                            <div *ngIf="submitted && f['confirmPassword'].errors" class="invalid-feedback">
                                                <div *ngIf="f['confirmPassword'].errors['required']">Confirm Password is required</div>
                                                <div *ngIf="f['confirmPassword'].errors['mustMatch']">Passwords must match</div> 
                                            </div>
                                        </div>
                                        
                                        <div class="row" style="margin-top: 5%;">
                                                <div class="col-6">
                                                    <!-- <button type="button" class="btn btn-primary px-4">Login</button> -->
                                                    <button mat-raised-button color="primary" class="btn-primary"
                                                    type="submit" [disabled]="!userValue.valid" (click)="ChangePassword()">Submit</button>
                                            </div>
                                            <div class="text-right">
                                                <a mat-flat-button (click)="login()" class="btn-link" style="color: #4949eb;"><u>Back To Login</u></a>
                                                <!-- <button type="button" class="btn btn-link px-0">Forgot password?</button> -->
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
